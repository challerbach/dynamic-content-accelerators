{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "{CONTENT_TYPE_BASEPATH}/image-poi.json",
    "title": "Image (PoI)",
    "description": "An image with a business user editing interface for image manipulation",
    "allOf": [
      {
        "$ref": "http://bigcontent.io/cms/schema/v1/core#/definitions/content"
      }
    ],
    "type": "object",
    "properties": {
		"image": {
			"type": "object",
			"title": "Image",
			"description": "The image used in this content",
			"allOf": [
				{
					"type": "object",
					"properties": {
						"imageAltText": {
							"type": "string",
							"title": "Image alt text",
							"description": "Alternative text for image for SEO",
							"minLength": 0,
							"maxLength": 50
						},
						"seoText": {
							"type": "string",
							"title": "SEO Text",
							"description": "e.g. ladies-sunglasses",
							"minLength": 0,
							"maxLength": 100
						},
						"display": {
							"type": "string",
							"title": "Display type",
							"description": "How the image should display (Point of Interest, Hotspots, served staticaly (ie, animated GIF)",
							"enum": [
								"Point of Interest",
								"Hotspots",
								"Static"
							]
						}
					},
					"propertyOrder": [
						"image",
						"imageAltText",
						"seoText",
						"display"
					]
				},
				{
					"properties": {
						"image": {
							"title": "Transformed Image",
							"description": "An image with DI transformations included.",
							"type": "object",
							"properties": {
								"image": {
									"title": "Base Image",
									"description": "The base image to apply DI transformations to.",
									"allOf": [
										{
											"$ref": "http://bigcontent.io/cms/schema/v1/core#/definitions/image-link"
										}
									]
								},
								"crop": {
									"title": "Crop",
									"description": "The crop rectangle to apply, in % scale.",
									"type": "array",
									"minItems": 4,
									"maxItems": 4,
									"items": {
										"type": "number",
										"default": 0
									}
								},
								"poi": {
									"title": "Point of Interest",
									"description": "The point of interest, in % scale.",
									"type": "object",
									"properties": {
										"x": {
											"title": "X",
											"description": "The x coordinate",
											"type": "number"
										},
										"y": {
											"title": "Y",
											"description": "The y coordinate",
											"type": "number"
										}
									}
								},
								"rot": {
									"title": "Rotate",
									"description": "The rotation modifier (in degrees)",
									"type": "number"
								},
								"hue": {
									"title": "Hue",
									"description": "The hue modifier",
									"type": "number"
								},
								"sat": {
									"title": "Saturation",
									"description": "The saturation modifier",
									"type": "number"
								},
								"bri": {
									"title": "Brightness",
									"description": "The brightness modifier",
									"type": "number"
								},
								"fliph": {
									"title": "Horizontal Flip",
									"description": "Whether the image should be horizontally flipped",
									"type": "boolean"
								},
								"flipv": {
									"title": "Vertical Flip",
									"description": "Whether the image should be vertically flipped",
									"type": "boolean"
								},
								"aspectLock": {
									"title": "Crop Aspect Ratio",
									"description": "The aspect ratio to use when resizing the crop rectangle, eg: 4:3. Use 'none' to unlock aspect.",
									"type": "string"
								},
								"query": {
									"title": "DI Query String",
									"description": "A query string baked with all the above parameters.",
									"type": "string"
								}
							},
							"ui:extension": {
								"name": "image-poi"
							}
						}
					}
				}
			]
		}
	},
	"propertyOrder": ["image"]
}